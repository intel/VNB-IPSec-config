<div class="main" ng-init="resource='ldap_config'">

    <h1 class="page-header">{{title}}</h1>
    <div class="ems_main_buttons auto-rule-form">

        <div layout-gt-sm="row">
            <md-input-container class="md-block" flex-gt-sm>
                <label>Role Name</label>
                <input ng-model="name">
            </md-input-container>
        </div>

        <div layout-gt-sm="row">
            <md-input-container class="md-block" flex-gt-sm>
                <label>Groups</label>
                <md-select ng-model="groups" flex-gt-sm>
                    <md-option ng-repeat="group in available_scopes" ng-value="group.id">{{group.id}} -- {{group.name}}</md-option>
                </md-select>
            </md-input-container>
        </div>

        <div layout-gt-sm="row">
            <label>Rules</label>
            <table>
                <thead>
                    <tr>
                        <th class="resource-endpt-width">
                            <md-input-container class="md-block" flex-gt-sm> 
                            <label class="certificate-inputs">Resource Endpoint</label>
                        </th>
                        <th class="permissions-width">
                            <md-input-container class="md-block" flex-gt-sm> 
                            <label class="certificate-inputs">Permissions</label>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="rules in rules">
                        <td class="resource-endpt-width">
                            <md-select ng-model="rules.resource_endpoint" flex-gt-sm>
                                <md-option ng-repeat="resource in resource_options" ng-value="resource">{{resource}}</md-option>
                            </md-select>
                        </td>
                        <td class="permissions-width">
                            <md-select ng-model="rules.permissions" multiple flex-gt-sm>
                                <md-option ng-repeat="permission in permission_options" ng-value="permission">{{permission}}</md-option>
                            </md-select>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="btn-margin">
            <md-button class="md-primary md-raised create_scope_button" ng-click="addRow()">Add Row</md-button>
        </div>
                                
        <md-button class="md-primary md-raised create_scope_button" ng-click="submit($event)"  >
            Create
        </md-button>

        <md-button class="md-primary md-raised btn-danger" ng-click="cancel()" >
            Cancel
        </md-button>

    </div>
</div>
