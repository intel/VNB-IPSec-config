<VirtualHost *:443>

	DocumentRoot ${PROJECT_ROOT}/common
    <Directory ${PROJECT_ROOT}/common>
        Options Indexes FollowSymLinks
        AllowOverride None
        Require all granted
        SSLVerifyClient require
    </Directory>

	ErrorLog ${APACHE_LOG_DIR}/error.log
	CustomLog ${APACHE_LOG_DIR}/access.log combined

    Alias /static ${PROJECT_ROOT}/common/static
    <Directory ${PROJECT_ROOT}/common/static>
        Require all granted
    </Directory>

    <Directory ${PROJECT_ROOT}/common/common>
        <Files wsgi.py>
            Require all granted
        </Files>
    </Directory>

    WSGIDaemonProcess ipsecemsssl python-path=${PROJECT_ROOT}/common:/usr/local/lib/python2.7/dist-packages python-home=/usr/
    WSGIProcessGroup ipsecemsssl
    WSGIScriptAlias / ${PROJECT_ROOT}/common/common/wsgi.py

    SSLEngine on
    SSLCertificateFile ${CERT_PATH}/server.cert
    SSLCertificateKeyFile ${CERT_PATH}/server.key
    SSLCACertificateFile ${CERT_PATH}/ca.cert

</VirtualHost>

